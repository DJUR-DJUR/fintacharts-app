<mat-card appearance="outlined" class="container h-100 mt-5">
  @if (loading()) {
    <div class="d-flex align-items-center justify-content-center h-100">
      <mat-spinner diameter="40"></mat-spinner>
    </div>
  } @else if (error()) {
    <div class="d-flex flex-column align-items-center justify-content-center h-100">
      <h5>Something went wrong. Please try again.</h5>
      <button mat-raised-button (click)="loadData()">Reload</button>
    </div>
  } @else {
    <mat-card class="my-3 py-3">
      <app-selection
        [instrumentsList]="instrumentsList()"
        (selectedInstrument)="onSelect($event)"
      ></app-selection>
    </mat-card>

    <mat-card class="my-3 pb-3">
      <mat-card-header>
        <mat-card-title>Market data:</mat-card-title>
      </mat-card-header>
      <div class="mt-3">
        <app-live-data
          [symbol]="selectedInstrument()!.description"
          [price]="price()"
          [time]="time()"
        ></app-live-data>
      </div>
    </mat-card>

    <mat-card class="my-3 pb-3 h-100">
      <mat-card-header>
        <mat-card-title>Charting data:</mat-card-title>
      </mat-card-header>
      <div class="mt-3">
        <app-historical-chart
        ></app-historical-chart>
      </div>
    </mat-card>
  }
</mat-card>
